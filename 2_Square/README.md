判斷一個正整數N是否為2的次方:

先來觀察2的次方數轉成2進制的樣子 :

1 => 0000 0001 ,    1 – 1 => 0000 0000

2 => 0000 0010 ,    2 – 1 => 0000 0001

4 => 0000 0100  ,    4 – 1 => 0000 0011

8 => 0000 1000  ,    8 – 1 => 0000 0111

16 => 0001 0000 ,   16 – 1 => 0000 1111

32 => 0010 0000 ,   32 – 1 => 0001 1111

可以發現，只要該數是2的次方時，除了MSB(最高位元)是 1 其餘都是0，

然後我們又可以發現，2的次方數減1後，剛好等於原數NOT後的值。

 

在數位邏輯中 N & !N = 0，我們可以透過這個方法來判斷N是否為2的次方，所以是否為2的次方的判斷規則就是 N & (N-1) == 0

在數學中規定0不是任何人的次方，但這裡會有個小問題，當我們把0帶入後照樣會得到true，因為0不管和誰做AND都是0，所以要再加上一個 n > 0來篩選。
